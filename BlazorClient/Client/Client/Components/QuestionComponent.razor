@using Client.Models

<div class="container">
    <div class="col">
        
        <div class="row-cols-sm-1">
            <label class="form-label">Question text</label>
            <InputText @bind-Value="QuestionModel.QuestionText"/>
        </div>

        <div class="col">
            <h4>Answers</h4>
            @foreach (var answer in QuestionModel.AnswersCollection)
            {
                <div class="row-cols-sm-1">
                    <AnswerComponent Answer = "answer"/>
                </div>
            }
        </div>

        <div class="row-cols-sm-1">
            <button class="btn-primary m-1" @onclick="AddAnswer">Add Answer</button>
            @if (QuestionModel.AnswersCollection.Any())
            {
                <button class="btn-danger m-1" @onclick="RemoveAnswer">Remove Answer</button>
            }
        </div>

    </div>

    </div>

@code {
    [Parameter]
    public Question QuestionModel { get; set; }

    private void AddAnswer()
    {
        QuestionModel.AddAnswers(new Answer());
    }

    private void RemoveAnswer()
    {
        QuestionModel.AnswersCollection.RemoveLast();
    }

}